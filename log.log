2023-08-28 14:39:23,813 [main] INFO  c.t.l.l.LibraryManagementApplication               - Starting LibraryManagementApplication using Java 1.8.0_161 on JPs-MacBook-Air.local with PID 24189 (/Users/jp/intelij-workspace/library-management/target/classes started by jp in /Users/jp/intelij-workspace/library-management)
2023-08-28 14:39:23,820 [main] INFO  c.t.l.l.LibraryManagementApplication               - No active profile set, falling back to 1 default profile: "default"
2023-08-28 14:39:25,765 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-28 14:39:25,974 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Finished Spring Data repository scanning in 167 ms. Found 3 JPA repository interfaces.
2023-08-28 14:39:27,978 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat initialized with port(s): 8080 (http)
2023-08-28 14:39:27,997 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Initializing ProtocolHandler ["http-nio-8080"]
2023-08-28 14:39:28,001 [main] INFO  org.apache.catalina.core.StandardService           - Starting service [Tomcat]
2023-08-28 14:39:28,002 [main] INFO  org.apache.catalina.core.StandardEngine            - Starting Servlet engine: [Apache Tomcat/9.0.79]
2023-08-28 14:39:28,417 [main] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring embedded WebApplicationContext
2023-08-28 14:39:28,417 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext     - Root WebApplicationContext: initialization completed in 4467 ms
2023-08-28 14:39:28,476 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Starting...
2023-08-28 14:39:29,227 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Start completed.
2023-08-28 14:39:29,273 [main] INFO  o.s.b.a.h2.H2ConsoleAutoConfiguration              - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2023-08-28 14:39:29,800 [main] INFO  o.hibernate.jpa.internal.util.LogHelper            - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-28 14:39:29,933 [main] INFO  org.hibernate.Version                              - HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-28 14:39:30,445 [main] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-08-28 14:39:31,002 [main] INFO  org.hibernate.dialect.Dialect                      - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-08-28 14:39:32,729 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:39:32,738 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 14:39:32,739 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 14:39:32,745 [main] DEBUG org.hibernate.SQL                                  - create table "author" ("id" bigint generated by default as identity, "country" varchar(255), "name" varchar(255), primary key ("id"))
2023-08-28 14:39:32,764 [main] DEBUG org.hibernate.SQL                                  - create table "book" ("id" bigint generated by default as identity, "isbn" varchar(255), "status" varchar(255), "title" varchar(255), "author_id" bigint, primary key ("id"))
2023-08-28 14:39:32,766 [main] DEBUG org.hibernate.SQL                                  - create table "borrowing_record" ("id" bigint generated by default as identity, "borrowing_date" date, "return_date" date, "user" varchar(255), "book_id" bigint, primary key ("id"))
2023-08-28 14:39:32,769 [main] DEBUG org.hibernate.SQL                                  - alter table "book" add constraint "FKsytpuhl67g1174cx7iqlw6os9" foreign key ("author_id") references "author"
2023-08-28 14:39:32,797 [main] DEBUG org.hibernate.SQL                                  - alter table "borrowing_record" add constraint "FKjq5xpecg58x9omii2frbljpp5" foreign key ("book_id") references "book"
2023-08-28 14:39:32,802 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator                 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-28 14:39:32,817 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:39:34,183 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-28 14:39:34,967 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Starting ProtocolHandler ["http-nio-8080"]
2023-08-28 14:39:35,025 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat started on port(s): 8080 (http) with context path '/library-management'
2023-08-28 14:39:35,049 [main] INFO  c.t.l.l.LibraryManagementApplication               - Started LibraryManagementApplication in 13.443 seconds (JVM running for 15.149)
2023-08-28 14:40:37,048 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-28 14:40:37,049 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Initializing Servlet 'dispatcherServlet'
2023-08-28 14:40:37,053 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Completed initialization in 3 ms
2023-08-28 14:43:28,265 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool                  - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m58s920ms).
2023-08-28 14:43:28,287 [http-nio-8080-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]                - Servlet.service() for servlet [dispatcherServlet] in context with path [/library-management] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessApiUsageException: Parameter value [AVAILABLE] did not match expected type [com.tcs.library.librarymanagement.entity.BookStatus (n/a)]; nested exception is java.lang.IllegalArgumentException: Parameter value [AVAILABLE] did not match expected type [com.tcs.library.librarymanagement.entity.BookStatus (n/a)]] with root cause
java.lang.IllegalArgumentException: Parameter value [AVAILABLE] did not match expected type [com.tcs.library.librarymanagement.entity.BookStatus (n/a)]
	at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:54)
	at org.hibernate.query.spi.QueryParameterBindingValidator.validate(QueryParameterBindingValidator.java:27)
	at org.hibernate.query.internal.QueryParameterBindingImpl.validate(QueryParameterBindingImpl.java:90)
	at org.hibernate.query.internal.QueryParameterBindingImpl.setBindValue(QueryParameterBindingImpl.java:55)
	at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:501)
	at org.hibernate.query.internal.AbstractProducedQuery.setParameter(AbstractProducedQuery.java:122)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.setParameter(CriteriaQueryTypeQueryAdapter.java:393)
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.setParameter(CriteriaQueryTypeQueryAdapter.java:61)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$BindableQuery.setParameter(QueryParameterSetter.java:327)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.lambda$setParameter$3(QueryParameterSetter.java:124)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$ErrorHandling$1.execute(QueryParameterSetter.java:149)
	at org.springframework.data.jpa.repository.query.QueryParameterSetter$NamedOrIndexedQueryParameterSetter.setParameter(QueryParameterSetter.java:124)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:82)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:74)
	at org.springframework.data.jpa.repository.query.ParameterBinder.bindAndPrepare(ParameterBinder.java:96)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.invokeBinding(PartTreeJpaQuery.java:324)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery$QueryPreparer.createQuery(PartTreeJpaQuery.java:243)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.doCreateQuery(PartTreeJpaQuery.java:106)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.createQuery(AbstractJpaQuery.java:233)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:76)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)
	at com.sun.proxy.$Proxy110.getByIdAndStatus(Unknown Source)
	at com.tcs.library.librarymanagement.service.BorrowingRecordService.borrowBook(BorrowingRecordService.java:25)
	at com.tcs.library.librarymanagement.controller.BorrowingRecordController.borrowBook(BorrowingRecordController.java:26)
	at com.tcs.library.librarymanagement.controller.BorrowingRecordController$$FastClassBySpringCGLIB$$122650e2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.tcs.library.librarymanagement.controller.BorrowingRecordController$$EnhancerBySpringCGLIB$$223648a6.borrowBook(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1790)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-08-28 14:43:28,688 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:43:28,693 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl  - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-08-28 14:43:28,694 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:43:28,706 [SpringApplicationShutdownHook] WARN  o.h.engine.jdbc.spi.SqlExceptionHelper             - SQL Error: 90121, SQLState: 90121
2023-08-28 14:43:28,707 [SpringApplicationShutdownHook] ERROR o.h.engine.jdbc.spi.SqlExceptionHelper             - Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-08-28 14:43:28,709 [SpringApplicationShutdownHook] WARN  o.h.engine.jdbc.spi.SqlExceptionHelper             - SQL Error: 90121, SQLState: 90121
2023-08-28 14:43:28,710 [SpringApplicationShutdownHook] ERROR o.h.engine.jdbc.spi.SqlExceptionHelper             - Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-08-28 14:43:28,710 [SpringApplicationShutdownHook] WARN  o.s.b.f.support.DisposableBeanAdapter              - Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2023-08-28 14:43:28,713 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown initiated...
2023-08-28 14:43:28,738 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown completed.
2023-08-28 14:43:49,049 [main] INFO  c.t.l.l.LibraryManagementApplication               - Starting LibraryManagementApplication using Java 1.8.0_161 on JPs-MacBook-Air.local with PID 24249 (/Users/jp/intelij-workspace/library-management/target/classes started by jp in /Users/jp/intelij-workspace/library-management)
2023-08-28 14:43:49,058 [main] INFO  c.t.l.l.LibraryManagementApplication               - No active profile set, falling back to 1 default profile: "default"
2023-08-28 14:43:50,467 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-28 14:43:50,606 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Finished Spring Data repository scanning in 115 ms. Found 3 JPA repository interfaces.
2023-08-28 14:43:51,828 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat initialized with port(s): 8080 (http)
2023-08-28 14:43:51,846 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Initializing ProtocolHandler ["http-nio-8080"]
2023-08-28 14:43:51,849 [main] INFO  org.apache.catalina.core.StandardService           - Starting service [Tomcat]
2023-08-28 14:43:51,850 [main] INFO  org.apache.catalina.core.StandardEngine            - Starting Servlet engine: [Apache Tomcat/9.0.79]
2023-08-28 14:43:52,210 [main] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring embedded WebApplicationContext
2023-08-28 14:43:52,211 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext     - Root WebApplicationContext: initialization completed in 2975 ms
2023-08-28 14:43:52,270 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Starting...
2023-08-28 14:43:52,842 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Start completed.
2023-08-28 14:43:52,866 [main] INFO  o.s.b.a.h2.H2ConsoleAutoConfiguration              - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2023-08-28 14:43:53,273 [main] INFO  o.hibernate.jpa.internal.util.LogHelper            - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-28 14:43:53,384 [main] INFO  org.hibernate.Version                              - HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-28 14:43:53,801 [main] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-08-28 14:43:54,083 [main] INFO  org.hibernate.dialect.Dialect                      - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-08-28 14:43:55,763 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:43:55,774 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 14:43:55,775 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 14:43:55,781 [main] DEBUG org.hibernate.SQL                                  - create table "author" ("id" bigint generated by default as identity, "country" varchar(255), "name" varchar(255), primary key ("id"))
2023-08-28 14:43:55,800 [main] DEBUG org.hibernate.SQL                                  - create table "book" ("id" bigint generated by default as identity, "isbn" varchar(255), "status" varchar(255), "title" varchar(255), "author_id" bigint, primary key ("id"))
2023-08-28 14:43:55,802 [main] DEBUG org.hibernate.SQL                                  - create table "borrowing_record" ("id" bigint generated by default as identity, "borrowing_date" date, "return_date" date, "user" varchar(255), "book_id" bigint, primary key ("id"))
2023-08-28 14:43:55,805 [main] DEBUG org.hibernate.SQL                                  - alter table "book" add constraint "FKsytpuhl67g1174cx7iqlw6os9" foreign key ("author_id") references "author"
2023-08-28 14:43:55,842 [main] DEBUG org.hibernate.SQL                                  - alter table "borrowing_record" add constraint "FKjq5xpecg58x9omii2frbljpp5" foreign key ("book_id") references "book"
2023-08-28 14:43:55,852 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator                 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-28 14:43:55,876 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:43:57,332 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-28 14:43:58,235 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Starting ProtocolHandler ["http-nio-8080"]
2023-08-28 14:43:58,304 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat started on port(s): 8080 (http) with context path '/library-management'
2023-08-28 14:43:58,323 [main] INFO  c.t.l.l.LibraryManagementApplication               - Started LibraryManagementApplication in 10.949 seconds (JVM running for 12.282)
2023-08-28 14:44:01,505 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-28 14:44:01,506 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Initializing Servlet 'dispatcherServlet'
2023-08-28 14:44:01,509 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Completed initialization in 3 ms
2023-08-28 14:44:02,183 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL                                  - insert into "book" ("id", "isbn", "author_id", "status", "title") values (default, ?, ?, ?, ?)
2023-08-28 14:44:02,204 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 14:44:02,206 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 14:44:02,207 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:44:02,207 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 14:44:04,143 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - insert into "author" ("id", "country", "name") values (default, ?, ?)
2023-08-28 14:44:04,144 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [India]
2023-08-28 14:44:04,144 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [Jay]
2023-08-28 14:44:08,793 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - select book0_."id" as id1_1_0_, book0_."isbn" as isbn2_1_0_, book0_."author_id" as author_i5_1_0_, book0_."status" as status3_1_0_, book0_."title" as title4_1_0_, author1_."id" as id1_0_1_, author1_."country" as country2_0_1_, author1_."name" as name3_0_1_ from "book" book0_ left outer join "author" author1_ on book0_."author_id"=author1_."id" where book0_."id"=?
2023-08-28 14:44:08,799 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:44:36,533 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]                - Servlet.service() for servlet [dispatcherServlet] in context with path [/library-management] threw exception [Request processing failed; nested exception is com.tcs.library.librarymanagement.service.NoBookAvailable: Something happens! try again] with root cause
com.tcs.library.librarymanagement.service.NoBookAvailable: Something happens! try again
	at com.tcs.library.librarymanagement.service.BorrowingRecordService.borrowBook(BorrowingRecordService.java:33)
	at com.tcs.library.librarymanagement.service.BorrowingRecordService$$FastClassBySpringCGLIB$$6490c16a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.tcs.library.librarymanagement.service.BorrowingRecordService$$EnhancerBySpringCGLIB$$a9fb68bf.borrowBook(<generated>)
	at com.tcs.library.librarymanagement.controller.BorrowingRecordController.borrowBook(BorrowingRecordController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1790)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-08-28 14:44:36,783 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:44:36,784 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl  - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-08-28 14:44:36,785 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:44:36,789 [SpringApplicationShutdownHook] WARN  o.h.engine.jdbc.spi.SqlExceptionHelper             - SQL Error: 90121, SQLState: 90121
2023-08-28 14:44:36,789 [SpringApplicationShutdownHook] ERROR o.h.engine.jdbc.spi.SqlExceptionHelper             - Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-08-28 14:44:36,791 [SpringApplicationShutdownHook] WARN  o.h.engine.jdbc.spi.SqlExceptionHelper             - SQL Error: 90121, SQLState: 90121
2023-08-28 14:44:36,791 [SpringApplicationShutdownHook] ERROR o.h.engine.jdbc.spi.SqlExceptionHelper             - Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-214]
2023-08-28 14:44:36,791 [SpringApplicationShutdownHook] WARN  o.s.b.f.support.DisposableBeanAdapter              - Invocation of destroy method failed on bean with name 'entityManagerFactory': org.hibernate.exception.JDBCConnectionException: Unable to release JDBC Connection used for DDL execution
2023-08-28 14:44:36,794 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown initiated...
2023-08-28 14:44:36,804 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown completed.
2023-08-28 14:45:08,244 [main] INFO  c.t.l.l.LibraryManagementApplication               - Starting LibraryManagementApplication using Java 1.8.0_161 on JPs-MacBook-Air.local with PID 24271 (/Users/jp/intelij-workspace/library-management/target/classes started by jp in /Users/jp/intelij-workspace/library-management)
2023-08-28 14:45:08,257 [main] INFO  c.t.l.l.LibraryManagementApplication               - No active profile set, falling back to 1 default profile: "default"
2023-08-28 14:45:10,837 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-28 14:45:11,023 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Finished Spring Data repository scanning in 160 ms. Found 3 JPA repository interfaces.
2023-08-28 14:45:12,846 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat initialized with port(s): 8080 (http)
2023-08-28 14:45:12,864 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Initializing ProtocolHandler ["http-nio-8080"]
2023-08-28 14:45:12,867 [main] INFO  org.apache.catalina.core.StandardService           - Starting service [Tomcat]
2023-08-28 14:45:12,868 [main] INFO  org.apache.catalina.core.StandardEngine            - Starting Servlet engine: [Apache Tomcat/9.0.79]
2023-08-28 14:45:13,181 [main] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring embedded WebApplicationContext
2023-08-28 14:45:13,181 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext     - Root WebApplicationContext: initialization completed in 4797 ms
2023-08-28 14:45:13,246 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Starting...
2023-08-28 14:45:13,837 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Start completed.
2023-08-28 14:45:13,859 [main] INFO  o.s.b.a.h2.H2ConsoleAutoConfiguration              - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2023-08-28 14:45:14,291 [main] INFO  o.hibernate.jpa.internal.util.LogHelper            - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-28 14:45:14,408 [main] INFO  org.hibernate.Version                              - HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-28 14:45:14,912 [main] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-08-28 14:45:15,466 [main] INFO  org.hibernate.dialect.Dialect                      - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-08-28 14:45:17,998 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:45:18,011 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 14:45:18,012 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 14:45:18,018 [main] DEBUG org.hibernate.SQL                                  - create table "author" ("id" bigint generated by default as identity, "country" varchar(255), "name" varchar(255), primary key ("id"))
2023-08-28 14:45:18,045 [main] DEBUG org.hibernate.SQL                                  - create table "book" ("id" bigint generated by default as identity, "isbn" varchar(255), "status" varchar(255), "title" varchar(255), "author_id" bigint, primary key ("id"))
2023-08-28 14:45:18,047 [main] DEBUG org.hibernate.SQL                                  - create table "borrowing_record" ("id" bigint generated by default as identity, "borrowing_date" date, "return_date" date, "user" varchar(255), "book_id" bigint, primary key ("id"))
2023-08-28 14:45:18,049 [main] DEBUG org.hibernate.SQL                                  - alter table "book" add constraint "FKsytpuhl67g1174cx7iqlw6os9" foreign key ("author_id") references "author"
2023-08-28 14:45:18,087 [main] DEBUG org.hibernate.SQL                                  - alter table "borrowing_record" add constraint "FKjq5xpecg58x9omii2frbljpp5" foreign key ("book_id") references "book"
2023-08-28 14:45:18,098 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator                 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-28 14:45:18,143 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:45:20,204 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-28 14:45:21,446 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Starting ProtocolHandler ["http-nio-8080"]
2023-08-28 14:45:21,507 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat started on port(s): 8080 (http) with context path '/library-management'
2023-08-28 14:45:21,527 [main] INFO  c.t.l.l.LibraryManagementApplication               - Started LibraryManagementApplication in 16.043 seconds (JVM running for 17.748)
2023-08-28 14:45:25,047 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-28 14:45:25,049 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Initializing Servlet 'dispatcherServlet'
2023-08-28 14:45:25,051 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Completed initialization in 2 ms
2023-08-28 14:45:25,429 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL                                  - insert into "book" ("id", "isbn", "author_id", "status", "title") values (default, ?, ?, ?, ?)
2023-08-28 14:45:25,445 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 14:45:25,447 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 14:45:25,448 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:45:25,448 [http-nio-8080-exec-1] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 14:45:29,449 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - insert into "author" ("id", "country", "name") values (default, ?, ?)
2023-08-28 14:45:29,450 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [India]
2023-08-28 14:45:29,451 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [Jay]
2023-08-28 14:45:37,492 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - select book0_."id" as id1_1_, book0_."isbn" as isbn2_1_, book0_."author_id" as author_i5_1_, book0_."status" as status3_1_, book0_."title" as title4_1_ from "book" book0_ where book0_."id"=? and book0_."status"=?
2023-08-28 14:45:37,514 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:45:37,516 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:45:39,823 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - insert into "borrowing_record" ("id", "book_id", "borrowing_date", "return_date", "user") values (default, ?, ?, ?, ?)
2023-08-28 14:45:39,826 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:45:39,829 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [DATE] - [null]
2023-08-28 14:45:39,831 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [DATE] - [null]
2023-08-28 14:45:39,832 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [User1]
2023-08-28 14:45:43,801 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - update "book" set "isbn"=?, "author_id"=?, "status"=?, "title"=? where "id"=?
2023-08-28 14:45:43,811 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 14:45:43,812 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 14:45:43,812 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [BORROWED]
2023-08-28 14:45:43,813 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 14:45:43,813 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [5] as [BIGINT] - [1]
2023-08-28 14:45:52,743 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL                                  - select book0_."id" as id1_1_, book0_."isbn" as isbn2_1_, book0_."author_id" as author_i5_1_, book0_."status" as status3_1_, book0_."title" as title4_1_ from "book" book0_ where book0_."id"=? and book0_."status"=?
2023-08-28 14:45:52,749 [http-nio-8080-exec-5] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:45:52,752 [http-nio-8080-exec-5] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:45:56,565 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet]                - Servlet.service() for servlet [dispatcherServlet] in context with path [/library-management] threw exception [Request processing failed; nested exception is com.tcs.library.librarymanagement.service.NoBookAvailable: No book available] with root cause
com.tcs.library.librarymanagement.service.NoBookAvailable: No book available
	at com.tcs.library.librarymanagement.service.BorrowingRecordService.borrowBook(BorrowingRecordService.java:42)
	at com.tcs.library.librarymanagement.service.BorrowingRecordService$$FastClassBySpringCGLIB$$6490c16a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.tcs.library.librarymanagement.service.BorrowingRecordService$$EnhancerBySpringCGLIB$$f8d0ace7.borrowBook(<generated>)
	at com.tcs.library.librarymanagement.controller.BorrowingRecordController.borrowBook(BorrowingRecordController.java:24)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:555)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:623)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1790)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2023-08-28 14:50:27,109 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:50:27,113 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl  - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-08-28 14:50:27,117 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:50:27,260 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 14:50:27,261 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 14:50:27,274 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown initiated...
2023-08-28 14:50:27,281 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown completed.
2023-08-28 14:50:57,408 [main] INFO  c.t.l.l.LibraryManagementApplication               - Starting LibraryManagementApplication using Java 1.8.0_161 on JPs-MacBook-Air.local with PID 24372 (/Users/jp/intelij-workspace/library-management/target/classes started by jp in /Users/jp/intelij-workspace/library-management)
2023-08-28 14:50:57,423 [main] INFO  c.t.l.l.LibraryManagementApplication               - No active profile set, falling back to 1 default profile: "default"
2023-08-28 14:50:59,154 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-28 14:50:59,298 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Finished Spring Data repository scanning in 123 ms. Found 3 JPA repository interfaces.
2023-08-28 14:51:01,575 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat initialized with port(s): 8080 (http)
2023-08-28 14:51:01,672 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Initializing ProtocolHandler ["http-nio-8080"]
2023-08-28 14:51:01,678 [main] INFO  org.apache.catalina.core.StandardService           - Starting service [Tomcat]
2023-08-28 14:51:01,679 [main] INFO  org.apache.catalina.core.StandardEngine            - Starting Servlet engine: [Apache Tomcat/9.0.79]
2023-08-28 14:51:02,437 [main] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring embedded WebApplicationContext
2023-08-28 14:51:02,437 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext     - Root WebApplicationContext: initialization completed in 4791 ms
2023-08-28 14:51:02,505 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Starting...
2023-08-28 14:51:03,648 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Start completed.
2023-08-28 14:51:03,679 [main] INFO  o.s.b.a.h2.H2ConsoleAutoConfiguration              - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2023-08-28 14:51:04,822 [main] INFO  o.hibernate.jpa.internal.util.LogHelper            - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-28 14:51:05,329 [main] INFO  org.hibernate.Version                              - HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-28 14:51:06,136 [main] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-08-28 14:51:06,497 [main] INFO  org.hibernate.dialect.Dialect                      - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-08-28 14:51:09,293 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:51:09,306 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 14:51:09,307 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 14:51:09,315 [main] DEBUG org.hibernate.SQL                                  - create table "author" ("id" bigint generated by default as identity, "country" varchar(255), "name" varchar(255), primary key ("id"))
2023-08-28 14:51:09,345 [main] DEBUG org.hibernate.SQL                                  - create table "book" ("id" bigint generated by default as identity, "isbn" varchar(255), "status" varchar(255), "title" varchar(255), "author_id" bigint, primary key ("id"))
2023-08-28 14:51:09,347 [main] DEBUG org.hibernate.SQL                                  - create table "borrowing_record" ("id" bigint generated by default as identity, "borrowing_date" date, "return_date" date, "user" varchar(255), "book_id" bigint, primary key ("id"))
2023-08-28 14:51:09,349 [main] DEBUG org.hibernate.SQL                                  - alter table "book" add constraint "FKsytpuhl67g1174cx7iqlw6os9" foreign key ("author_id") references "author"
2023-08-28 14:51:09,382 [main] DEBUG org.hibernate.SQL                                  - alter table "borrowing_record" add constraint "FKjq5xpecg58x9omii2frbljpp5" foreign key ("book_id") references "book"
2023-08-28 14:51:09,388 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator                 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-28 14:51:09,406 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:51:11,419 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-28 14:51:12,315 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Starting ProtocolHandler ["http-nio-8080"]
2023-08-28 14:51:12,415 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat started on port(s): 8080 (http) with context path '/library-management'
2023-08-28 14:51:12,468 [main] INFO  c.t.l.l.LibraryManagementApplication               - Started LibraryManagementApplication in 17.176 seconds (JVM running for 18.854)
2023-08-28 14:51:12,767 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-28 14:51:12,767 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet                  - Initializing Servlet 'dispatcherServlet'
2023-08-28 14:51:12,770 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet                  - Completed initialization in 2 ms
2023-08-28 14:51:13,167 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL                                  - insert into "book" ("id", "isbn", "author_id", "status", "title") values (default, ?, ?, ?, ?)
2023-08-28 14:51:13,181 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 14:51:13,183 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 14:51:13,183 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:51:13,184 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 14:51:17,278 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - insert into "author" ("id", "country", "name") values (default, ?, ?)
2023-08-28 14:51:17,279 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [India]
2023-08-28 14:51:17,280 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [Jay]
2023-08-28 14:51:20,843 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - select book0_."id" as id1_1_, book0_."isbn" as isbn2_1_, book0_."author_id" as author_i5_1_, book0_."status" as status3_1_, book0_."title" as title4_1_ from "book" book0_ where book0_."id"=? and book0_."status"=?
2023-08-28 14:51:20,848 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:51:20,848 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:51:20,880 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - insert into "borrowing_record" ("id", "book_id", "borrowing_date", "return_date", "user") values (default, ?, ?, ?, ?)
2023-08-28 14:51:20,881 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:51:20,882 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [DATE] - [null]
2023-08-28 14:51:20,882 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [DATE] - [null]
2023-08-28 14:51:20,883 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [User1]
2023-08-28 14:51:20,903 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - update "book" set "isbn"=?, "author_id"=?, "status"=?, "title"=? where "id"=?
2023-08-28 14:51:20,911 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 14:51:20,911 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 14:51:20,912 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [BORROWED]
2023-08-28 14:51:20,912 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 14:51:20,912 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [5] as [BIGINT] - [1]
2023-08-28 14:51:23,838 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL                                  - select book0_."id" as id1_1_, book0_."isbn" as isbn2_1_, book0_."author_id" as author_i5_1_, book0_."status" as status3_1_, book0_."title" as title4_1_ from "book" book0_ where book0_."id"=? and book0_."status"=?
2023-08-28 14:51:23,838 [http-nio-8080-exec-5] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 14:51:23,839 [http-nio-8080-exec-5] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [AVAILABLE]
2023-08-28 14:52:07,588 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 14:52:07,588 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl  - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-08-28 14:52:07,589 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 14:52:07,705 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 14:52:07,706 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 14:52:07,711 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown initiated...
2023-08-28 14:52:07,716 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown completed.
2023-08-28 19:32:05,533 [main] INFO  c.t.l.l.LibraryManagementApplication               - Starting LibraryManagementApplication using Java 1.8.0_161 on JPs-MacBook-Air.local with PID 25580 (/Users/jp/intelij-workspace/library-management/target/classes started by jp in /Users/jp/intelij-workspace/library-management)
2023-08-28 19:32:05,544 [main] INFO  c.t.l.l.LibraryManagementApplication               - No active profile set, falling back to 1 default profile: "default"
2023-08-28 19:32:07,416 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-28 19:32:07,553 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Finished Spring Data repository scanning in 113 ms. Found 3 JPA repository interfaces.
2023-08-28 19:32:09,251 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat initialized with port(s): 8080 (http)
2023-08-28 19:32:09,292 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Initializing ProtocolHandler ["http-nio-8080"]
2023-08-28 19:32:09,298 [main] INFO  org.apache.catalina.core.StandardService           - Starting service [Tomcat]
2023-08-28 19:32:09,298 [main] INFO  org.apache.catalina.core.StandardEngine            - Starting Servlet engine: [Apache Tomcat/9.0.79]
2023-08-28 19:32:09,675 [main] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring embedded WebApplicationContext
2023-08-28 19:32:09,676 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext     - Root WebApplicationContext: initialization completed in 3901 ms
2023-08-28 19:32:09,767 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Starting...
2023-08-28 19:32:10,654 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Start completed.
2023-08-28 19:32:10,691 [main] INFO  o.s.b.a.h2.H2ConsoleAutoConfiguration              - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2023-08-28 19:32:11,195 [main] INFO  o.hibernate.jpa.internal.util.LogHelper            - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-28 19:32:11,390 [main] INFO  org.hibernate.Version                              - HHH000412: Hibernate ORM core version 5.6.15.Final
2023-08-28 19:32:11,944 [main] INFO  org.hibernate.annotations.common.Version           - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-08-28 19:32:12,299 [main] INFO  org.hibernate.dialect.Dialect                      - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2023-08-28 19:32:13,967 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 19:32:13,979 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 19:32:13,979 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 19:32:13,984 [main] DEBUG org.hibernate.SQL                                  - create table "author" ("id" bigint generated by default as identity, "country" varchar(255), "name" varchar(255), primary key ("id"))
2023-08-28 19:32:14,003 [main] DEBUG org.hibernate.SQL                                  - create table "book" ("id" bigint generated by default as identity, "isbn" varchar(255), "status" varchar(255), "title" varchar(255), "author_id" bigint, primary key ("id"))
2023-08-28 19:32:14,004 [main] DEBUG org.hibernate.SQL                                  - create table "borrowing_record" ("id" bigint generated by default as identity, "borrowing_date" date, "return_date" date, "user" varchar(255), "book_id" bigint, primary key ("id"))
2023-08-28 19:32:14,006 [main] DEBUG org.hibernate.SQL                                  - alter table "book" add constraint "FKsytpuhl67g1174cx7iqlw6os9" foreign key ("author_id") references "author"
2023-08-28 19:32:14,032 [main] DEBUG org.hibernate.SQL                                  - alter table "borrowing_record" add constraint "FKjq5xpecg58x9omii2frbljpp5" foreign key ("book_id") references "book"
2023-08-28 19:32:14,037 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator                 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-28 19:32:14,064 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 19:32:15,245 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-28 19:32:16,248 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Starting ProtocolHandler ["http-nio-8080"]
2023-08-28 19:32:16,306 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat started on port(s): 8080 (http) with context path '/library-management'
2023-08-28 19:32:16,328 [main] INFO  c.t.l.l.LibraryManagementApplication               - Started LibraryManagementApplication in 12.465 seconds (JVM running for 14.004)
2023-08-28 19:32:43,553 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-28 19:32:43,554 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet                  - Initializing Servlet 'dispatcherServlet'
2023-08-28 19:32:43,559 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet                  - Completed initialization in 4 ms
2023-08-28 19:32:44,044 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL                                  - insert into "book" ("id", "isbn", "author_id", "status", "title") values (default, ?, ?, ?, ?)
2023-08-28 19:32:44,063 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 19:32:44,064 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 19:32:44,065 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [AVAILABLE]
2023-08-28 19:32:44,067 [http-nio-8080-exec-2] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 19:32:50,943 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - insert into "author" ("id", "country", "name") values (default, ?, ?)
2023-08-28 19:32:50,955 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [India]
2023-08-28 19:32:50,955 [http-nio-8080-exec-3] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [Jay]
2023-08-28 19:33:24,737 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - select book0_."id" as id1_1_, book0_."isbn" as isbn2_1_, book0_."author_id" as author_i5_1_, book0_."status" as status3_1_, book0_."title" as title4_1_ from "book" book0_ where book0_."id"=? and book0_."status"=?
2023-08-28 19:33:24,740 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 19:33:24,741 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [VARCHAR] - [AVAILABLE]
2023-08-28 19:33:24,770 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - insert into "borrowing_record" ("id", "book_id", "borrowing_date", "return_date", "user") values (default, ?, ?, ?, ?)
2023-08-28 19:33:24,770 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [BIGINT] - [1]
2023-08-28 19:33:24,789 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [DATE] - [2023-08-28]
2023-08-28 19:33:24,797 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [DATE] - [2023-08-14]
2023-08-28 19:33:24,797 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [User1]
2023-08-28 19:33:24,823 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL                                  - update "book" set "isbn"=?, "author_id"=?, "status"=?, "title"=? where "id"=?
2023-08-28 19:33:24,830 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [1] as [VARCHAR] - [12314235]
2023-08-28 19:33:24,841 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [2] as [BIGINT] - [null]
2023-08-28 19:33:24,842 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [3] as [VARCHAR] - [BORROWED]
2023-08-28 19:33:24,842 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [4] as [VARCHAR] - [Book1]
2023-08-28 19:33:24,842 [http-nio-8080-exec-4] TRACE o.h.type.descriptor.sql.BasicBinder                - binding parameter [5] as [BIGINT] - [1]
2023-08-28 19:35:04,843 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-28 19:35:04,857 [SpringApplicationShutdownHook] INFO  o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl  - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-08-28 19:35:04,861 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "author" CASCADE 
2023-08-28 19:35:04,940 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "book" CASCADE 
2023-08-28 19:35:04,940 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" CASCADE 
2023-08-28 19:35:04,952 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown initiated...
2023-08-28 19:35:04,964 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown completed.
