2023-08-29 17:19:36,179 [main] INFO  c.t.l.l.LibraryManagementApplication               - Starting LibraryManagementApplication using Java 19.0.2 with PID 33183 (/Users/jp/intelij-workspace/library-management/target/classes started by jp in /Users/jp/intelij-workspace/library-management)
2023-08-29 17:19:36,185 [main] INFO  c.t.l.l.LibraryManagementApplication               - No active profile set, falling back to 1 default profile: "default"
2023-08-29 17:19:38,513 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-29 17:19:38,714 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate          - Finished Spring Data repository scanning in 166 ms. Found 3 JPA repository interfaces.
2023-08-29 17:19:40,166 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat initialized with port(s): 8080 (http)
2023-08-29 17:19:40,188 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Initializing ProtocolHandler ["http-nio-8080"]
2023-08-29 17:19:40,193 [main] INFO  o.apache.catalina.core.StandardService             - Starting service [Tomcat]
2023-08-29 17:19:40,194 [main] INFO  org.apache.catalina.core.StandardEngine            - Starting Servlet engine: [Apache Tomcat/10.1.12]
2023-08-29 17:19:40,370 [main] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring embedded WebApplicationContext
2023-08-29 17:19:40,371 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext     - Root WebApplicationContext: initialization completed in 4007 ms
2023-08-29 17:19:40,635 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Starting...
2023-08-29 17:19:41,266 [main] INFO  com.zaxxer.hikari.pool.HikariPool                  - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2023-08-29 17:19:41,269 [main] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Start completed.
2023-08-29 17:19:41,301 [main] INFO  o.s.b.a.h2.H2ConsoleAutoConfiguration              - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2023-08-29 17:19:41,699 [main] INFO  o.hibernate.jpa.internal.util.LogHelper            - HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-29 17:19:41,844 [main] INFO  org.hibernate.Version                              - HHH000412: Hibernate ORM core version 6.2.7.Final
2023-08-29 17:19:41,850 [main] INFO  org.hibernate.cfg.Environment                      - HHH000406: Using bytecode reflection optimizer
2023-08-29 17:19:42,291 [main] INFO  o.h.b.internal.BytecodeProviderInitiator           - HHH000021: Bytecode provider name : bytebuddy
2023-08-29 17:19:42,712 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo                - No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-29 17:19:43,323 [main] INFO  o.h.b.internal.BytecodeProviderInitiator           - HHH000021: Bytecode provider name : bytebuddy
2023-08-29 17:19:44,728 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator                 - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-29 17:19:44,763 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "author" cascade 
2023-08-29 17:19:44,770 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "book" cascade 
2023-08-29 17:19:44,770 [main] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" cascade 
2023-08-29 17:19:44,783 [main] DEBUG org.hibernate.SQL                                  - create table "author" ("id" bigint generated by default as identity, "country" varchar(255), "name" varchar(255), primary key ("id"))
2023-08-29 17:19:44,800 [main] DEBUG org.hibernate.SQL                                  - create table "book" ("author_id" bigint, "id" bigint generated by default as identity, "isbn" varchar(255), "status" varchar(255) check ("status" in ('AVAILABLE','BORROWED')), "title" varchar(255), primary key ("id"))
2023-08-29 17:19:44,812 [main] DEBUG org.hibernate.SQL                                  - create table "borrowing_record" ("borrowing_date" date, "return_date" date, "book_id" bigint unique, "id" bigint generated by default as identity, "user" varchar(255), primary key ("id"))
2023-08-29 17:19:44,815 [main] DEBUG org.hibernate.SQL                                  - alter table if exists "book" add constraint "FKsytpuhl67g1174cx7iqlw6os9" foreign key ("author_id") references "author"
2023-08-29 17:19:44,828 [main] DEBUG org.hibernate.SQL                                  - alter table if exists "borrowing_record" add constraint "FKjq5xpecg58x9omii2frbljpp5" foreign key ("book_id") references "book"
2023-08-29 17:19:44,836 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-29 17:19:45,747 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-29 17:19:46,617 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver                - Exposing 1 endpoint(s) beneath base path '/actuator'
2023-08-29 17:19:46,750 [main] INFO  o.apache.coyote.http11.Http11NioProtocol           - Starting ProtocolHandler ["http-nio-8080"]
2023-08-29 17:19:46,779 [main] INFO  o.s.b.w.embedded.tomcat.TomcatWebServer            - Tomcat started on port(s): 8080 (http) with context path '/library-management'
2023-08-29 17:19:46,802 [main] INFO  c.t.l.l.LibraryManagementApplication               - Started LibraryManagementApplication in 12.15 seconds (process running for 13.873)
2023-08-29 17:20:05,807 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[.[/library-management]                - Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-08-29 17:20:05,808 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Initializing Servlet 'dispatcherServlet'
2023-08-29 17:20:05,811 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet                  - Completed initialization in 1 ms
2023-08-29 17:20:06,269 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL                                  - insert into "book" ("isbn","author_id","status","title","id") values (?,?,?,?,default)
2023-08-29 17:20:11,014 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL                                  - select b1_0."id",b1_0."isbn",a1_0."id",a1_0."country",a1_0."name",b1_0."status",b1_0."title" from "book" b1_0 left join "author" a1_0 on a1_0."id"=b1_0."author_id" where b1_0."id"=?
2023-08-29 17:20:18,389 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean     - Closing JPA EntityManagerFactory for persistence unit 'default'
2023-08-29 17:20:18,391 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "author" cascade 
2023-08-29 17:20:18,559 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "book" cascade 
2023-08-29 17:20:18,559 [SpringApplicationShutdownHook] DEBUG org.hibernate.SQL                                  - drop table if exists "borrowing_record" cascade 
2023-08-29 17:20:18,565 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown initiated...
2023-08-29 17:20:18,569 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource                 - HikariPool-1 - Shutdown completed.
